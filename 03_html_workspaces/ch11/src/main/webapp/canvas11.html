<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" 
 integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" 
 crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<title>canvas</title>
</head>

<body onload="init()">
<h3 class="dispaly-4 font-italic">그림판 만들기</h3>
<hr />

<canvas id="myCanvas" width="400" height="300" style="background-color: aliceblue;">
	지원하지 않는 브라우저입니다.
</canvas>

<script>
let canvas, context;

function init() {
	canvas = document.getElementById('myCanvas');
	context = canvas.getContext('2d');
	
	context.lineWidth = 2;
	context.strokeStyle = 'blue';

	
	canvas.addEventListener('mousemove', function(e) {move(e)}, false);
	canvas.addEventListener('mousedown', function(e) {down(e)}, false);
	canvas.addEventListener('mouseup', function(e) {up(e)}, false);
	canvas.addEventListener('mouseout', function(e) {out(e)}, false);
}

var startX = 0, startY = 0;

var dragging = false;

function draw(curX, curY) {
	context.beginPath();
	context.moveTo(startX, startY);
	context.lineTo(curX, curY);
	context.stroke();
}

function down(e) { 
	startX = e.offsetX; startY = e.offsetY; dragging = true;
}

function up(e) { dragging = false; }

function move(e) {
	if(!dragging) return; // 마우스가 눌러지지 않았으면 리턴
	var curX = e.offsetX, curY = e.offsetY;
	draw(curX, curY);
	startX = curX; startY = curY;
}

function out(e) { dragging = false; }

</script>
</body>
</html>