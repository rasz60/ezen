<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<title>set callback</title>
</head>

<body>

<p class="test1 mx-2">This is a paragraph.</p>
<p class="test2 mx-2">This is <b>another</b> paragraph.</p>
<p class="mx-2"><a href="http://www.w3schools.com" target="_blank" class="w3s" title="w3school">w3schools.com</a></p>

<button class="btn mx-2 btn-sm btn-outline-secondary btn1">Show Old/New Text</button>
<button class="btn mx-2 btn-sm btn-outline-warning btn2">Show Old/New HTML</button>
<button class="btn mx-2 btn-sm btn-outline-danger btn3">Show Old/New attr</button>

<script>
$(document).ready(function() {
	$(".btn1").click(function() {
		// set 메서드는 이전 내용을 origText로 받아 index i에 저장했다가, 다시 불러 올 수 있는 callback함수를 포함하고 있다.
		$(".test1").text(function(i, origText) {
			return "Old text : " + origText + " / New text : Hello world! (index : " + i +")";
		});
	});
	
	$(".btn2").click(function() {
		$(".test2").html(function(i, origHtml) {
			return "Old html : " + origHtml + " / New html : <b>Hello world!</b> (index : " + i +")";
		});
	});
	
	$(".btn3").click(function() {
		$(".w3s").attr("href", function(i, origValue) {
			return origValue + "/jquery";
		});
	});
});
</script>
</body>
</html>